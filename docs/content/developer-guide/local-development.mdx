---
title: "Local Development"
description: "Local development with DevSpace for ARK services"
---

## Local development with DevSpace

Develop and live-reload ARK services directly in your Kubernetes cluster using DevSpace.

## Prerequisites
- A running Kubernetes cluster (e.g., minikube)
- kubectl and DevSpace installed
- Docker running locally

## One-time setup
```bash
# Install DevSpace
brew install devspace

# Install localhost gateway
make localhost-gateway-install
```
**Note:** If you delete the deployment/pods of `localhost-gateway` and see `make: Nothing to be done for 'localhost-gateway-install'` while installing,
then the stamp file from the previous needs to be deleted. Do a force reinstall with 
```bash
rm out/localhost-gateway/stamp-install
make localhost-gateway-install
```

## Start the dev environment
```bash
devspace dev
```
- ark-api and ark-dashboard deploy to namespace: default
- ark-controller deploys to namespace: ark-system

## Check deployment status
```bash
devspace list deployments --namespace default
devspace list deployments --namespace ark-system
```

## Open the dashboard
- Via routes:
```bash
make routes
```

- Or via port-forward:
```bash
kubectl port-forward -n default svc/ark-dashboard 3000:3000
# Then open http://localhost:3000
```

## Live reload behavior
- `ark-dashboard`: hot reloads on save
- `ark-api`: hot reloads on save  
- `ark-controller`: restarts container on save

## When you change CRDs
```bash
cd ark/
make manifests
kubectl apply -f config/crd/bases/ark.mckinsey.com_queries.yaml
# Then restart the controller
make deploy
```

## Build/deploy production images
```bash
devspace deploy
```

## Clean up
```bash
devspace purge
```
